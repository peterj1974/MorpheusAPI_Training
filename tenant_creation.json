{"info":{"_postman_id":"0315c83d-a06f-4cce-8115-4678af20f67d","name":"Tenant Creation","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Create Tenant Role","event":[{"listen":"test","script":{"id":"1865ac7a-7864-4782-90e5-fcf72488d640","exec":["bodyData = JSON.parse(responseBody)","value = bodyData.role.id","console.log(value)","pm.environment.set(\"roleId\", value);","","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"id":"6fdae0d1-1f1b-4e2a-8d83-1f8302f4bbaa","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n  \"role\": {\n    \"authority\": tenantrole,\n    \"description\": null,\n    \"roleType\": \"account\",\n    \"baseRoleId\": 2\n  }\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{localBasedUrl}}/api/roles","host":["{{localBasedUrl}}"],"path":["api","roles"]}},"response":[]},{"name":"Create Tenant","event":[{"listen":"test","script":{"id":"272cb02d-1951-4aa5-a5ec-8b92320ab022","exec":["bodyData = JSON.parse(responseBody)","value = bodyData.account.id","console.log(value)","pm.environment.set(\"accountId\", value);","","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"id":"7588533c-f272-4d69-bb69-0a816baa671d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n  \"account\": {\n    \"name\": \"{{tenantName}}\",\n    \"description\": null,\n    \"subdomain\": \"{{subdomain}}\",\n    \"currency\": \"USD\",\n    \"role\": {\n      \"id\": \"{{roleId}}\"\n    }\n  }\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{localBasedUrl}}/api/accounts","host":["{{localBasedUrl}}"],"path":["api","accounts"]}},"response":[]},{"name":"Create Multi-Tenant User Role","event":[{"listen":"test","script":{"id":"1d2c5b03-7bae-416a-a80a-1f2480eadad4","exec":["bodyData = JSON.parse(responseBody)","value = bodyData.role.id","console.log(value)","pm.environment.set(\"mtRoleId\", value);","","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"id":"c6b75e3b-cb92-4690-b240-5c275d4b539d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n  \"role\": {\n    \"authority\": \"mtrole\",\n    \"description\": null,\n    \"roleType\": \"user\",\n    \"baseRoleId\": 3,\n    \"multitenant\": true,\n    \"multitenantLocked\": false\n  }\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{localBasedUrl}}/api/roles","host":["{{localBasedUrl}}"],"path":["api","roles"]}},"response":[]},{"name":"Create Tenant User","event":[{"listen":"test","script":{"id":"dd05f4ad-7316-48b4-b323-6bf4fa2afb8e","exec":["bodyData = JSON.parse(responseBody)","value = bodyData.user.id","console.log(value)","pm.environment.set(\"userId\", value);","","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"id":"689cb541-c9d1-45ea-8915-f192bb0e073b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n  \"user\": {\n    \"firstName\": \"tenant\",\n    \"lastName\": \"admin\",\n    \"username\": \"admin\",\n    \"email\": \"admin@dev.null\",\n    \"password\": \"{{password}}\",\n    \"passwordConfirmation\": \"{{password}}\",\n    \"roles\": [\n      {\n        \"id\": \"{{mtRoleId}}\"\n      }\n    ]\n  }\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{localBasedUrl}}/api/accounts/{{accountId}}/users","host":["{{localBasedUrl}}"],"path":["api","accounts","{{accountId}}","users"]}},"response":[]}],"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{authToken}}","type":"string"}]},"event":[{"listen":"prerequest","script":{"id":"bb2cd392-144c-4df3-9895-6caa0894d9e5","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"ba4e4aab-7e8b-422f-900e-aa87b7c65579","type":"text/javascript","exec":[""]}}],"variable":[{"id":"54b0b15c-1570-4dca-aa82-3cd10a5a4d76","key":"roleid","value":"","type":"string","disabled":true}]}